<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Roberto Losa - Text Hover Effect</title>
        <link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png?v=1" />
        <link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png?v=1" />
        <link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png?v=1" />
        <link rel="manifest" href="../site.webmanifest.json?v=1" />
        <link rel="mask-icon" href="../safari-pinned-tab.svg?v=1" color="#000000" />
        <link rel="shortcut icon" href="../favicon.ico?v=1" />
        <meta name="msapplication-TileColor" content="#000000" />
        <meta name="theme-color" content="#000000" />
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
      <div class="topbar">
        <a href="/" class="topbar__back" title="Back">Back</a>
        <a href="https://robylosa.dev" class="topbar__avatar" title="Home">
            <img src="images/avatar.jpg" alt="Roberto Losa" width="56" height="56" />
        </a>
      </div>
      <div class="hero-img">
        <img src="images/hero.jpg" alt="" />
      </div>
      <div class="container">
        <div class="word">
          <span>T</span>
          <span>H</span>
          <span>E</span>
        </div>
        <div class="word">
          <span>C</span>
          <span>L</span>
          <span>E</span>
          <span>V</span>
          <span>E</span>
          <span>L</span>
          <span>A</span>
          <span>N</span>
          <span>D</span>
        </div>
        <div class="word">
          <span>M</span>
          <span>U</span>
          <span>S</span>
          <span>E</span>
          <span>U</span>
          <span>M</span>
        </div>
        <div class="word">
          <span>A</span>
          <span>R</span>
          <span>T</span>
          <span>I</span>
          <span>S</span>
          <span>T</span>
          <span>S</span>
        </div>
      </div>

      <script>

        const textContainers = document.querySelectorAll(".word")

        const defaultScale = 1;
        const maxScale = 2;
        const neighborScale = 1.5;

        textContainers.forEach((textContainer) => {
          const spans = textContainer.querySelectorAll("span");

          textContainer.addEventListener("mousemove", e => {
            const target = e.target;
            const index = Array.from(spans).indexOf(target);

            spans.forEach((span, i) => {
              let scale = defaultScale;

              if (i === index) {
                scale = maxScale
              } else if (i === index - 1 || i === index + 1) {
                scale = neighborScale;
              }

              span.style.transform = `scaleY(${scale})`;
            })
          })

          textContainer.addEventListener("mouseleave", () => {
            spans.forEach((span) => {
              span.style.transform = `scaleY(${defaultScale})`
            })
          })

        });
      </script>

    </body>
</html>
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Image gallery animation on scroll</title>
        <link rel="stylesheet" href="style.css" />    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    </head>
    <body>
       <div class="header">
        <h1>
            Human stories, <br/>
            Superhuman audiovisuals
        </h1>
       </div>
       <section class="slider-section">
        <div class="wheel">
            <div class="wheel__card">
                <img src="./images/01.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/02.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/03.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/04.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/05.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/06.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/07.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/08.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/09.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/10.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/01.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/02.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/03.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/04.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/05.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/06.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/07.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/08.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/09.jpg" alt="" />
            </div>
            <div class="wheel__card">
                <img src="./images/10.jpg" alt="" />
            </div>
        </div>
       </section>
       <div class="scroll-down">Scroll down</div>
       <div class="scroll-down-icon">
        <svg viewBox="0 0 50 9">
            <path d="m0 4.5 5-3m-5 3 5 3m45-3h-77"></path>
        </svg>
       </div>
       <script>

            gsap.registerPlugin("ScrollTrigger");

            let wheel = document.querySelector(".wheel");
            let images = gsap.utils.toArray(".wheel__card");

            function setup() {
                let radius = wheel.offsetWidth / 2;
                let center = wheel.offsetWidth / 2;
                let total = images.length;
                let slice = (2 * Math.PI) / total;

                images.forEach((item, i) => {
                    let angle = i * slice;

                    let x = center + radius * Math.sin(angle);
                    let y = center - radius * Math.cos(angle);

                    gsap.set(item, {
                        rotation: angle + "-rad",
                        xPercent: -50,
                        yPercent: -50,
                        x: x,
                        y: y
                    });
                });
            }

            gsap.to(wheel, {
                rotate: () => -360,
                ease: "none",
                duration: images.length,
                scrollTrigger: {
                    start: 0,
                    end: "max",
                    scrub: 1,
                    invalidateOnRefresh: true,
                }
            });

            setup();
            window.addEventListener("resize", setup);

       </script>
    </body>
</html>